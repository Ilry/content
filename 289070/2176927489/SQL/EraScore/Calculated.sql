-- Built by Take your Time Generator at 23:19 23/08/2020
CREATE TABLE IF NOT EXISTS TakeYourTimeCostChanges (Type TEXT, Era INT, CostID INT, Value REAL, CalculatedPower1 REAL, CalculatedPower2 REAL);
UPDATE GlobalParameters SET Value = Value*MIN(((COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Tech" LIMIT 1), 1) * COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Civic" LIMIT 1), 1))), (((((COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Tech" LIMIT 1), 1) * COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Civic" LIMIT 1), 1)))-1)*3.0)+1)) WHERE Name = 'DARK_AGE_SCORE_BASE_THRESHOLD';
UPDATE GlobalParameters SET Value = Value*MIN(((COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Tech" LIMIT 1), 1) * COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Civic" LIMIT 1), 1))), (((((COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Tech" LIMIT 1), 1) * COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Civic" LIMIT 1), 1)))-1)*3.0)+1)) WHERE Name = 'GOLDEN_AGE_SCORE_BASE_THRESHOLD';
UPDATE GlobalParameters SET Value = Value*MIN((MIN(COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Tech" LIMIT 1), 1) * COALESCE((SELECT ((AVG(Value)-1)*0.4)+1 FROM TakeYourTimeCostChanges WHERE Era IS NOT NULL AND Type = "Tech" GROUP BY Era LIMIT 1), 1), COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Civic" LIMIT 1), 1) * COALESCE((SELECT ((AVG(Value)-1)*0.4)+1 FROM TakeYourTimeCostChanges WHERE Era IS NOT NULL AND Type = "Civic" GROUP BY Era LIMIT 1), 1))), ((((MIN(COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Tech" LIMIT 1), 1) * COALESCE((SELECT ((AVG(Value)-1)*0.4)+1 FROM TakeYourTimeCostChanges WHERE Era IS NOT NULL AND Type = "Tech" GROUP BY Era LIMIT 1), 1), COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Civic" LIMIT 1), 1) * COALESCE((SELECT ((AVG(Value)-1)*0.4)+1 FROM TakeYourTimeCostChanges WHERE Era IS NOT NULL AND Type = "Civic" GROUP BY Era LIMIT 1), 1)))-1)*3.0)+1)) WHERE Name = 'THRESHOLD_SHIFT_PER_PAST_DARK_AGE';
UPDATE GlobalParameters SET Value = Value*MIN((MIN(COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Tech" LIMIT 1), 1) * COALESCE((SELECT ((AVG(Value)-1)*0.4)+1 FROM TakeYourTimeCostChanges WHERE Era IS NOT NULL AND Type = "Tech" GROUP BY Era LIMIT 1), 1), COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Civic" LIMIT 1), 1) * COALESCE((SELECT ((AVG(Value)-1)*0.4)+1 FROM TakeYourTimeCostChanges WHERE Era IS NOT NULL AND Type = "Civic" GROUP BY Era LIMIT 1), 1))), ((((MIN(COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Tech" LIMIT 1), 1) * COALESCE((SELECT ((AVG(Value)-1)*0.4)+1 FROM TakeYourTimeCostChanges WHERE Era IS NOT NULL AND Type = "Tech" GROUP BY Era LIMIT 1), 1), COALESCE((SELECT CalculatedPower2 FROM TakeYourTimeCostChanges WHERE Era IS NULL AND Type = "Civic" LIMIT 1), 1) * COALESCE((SELECT ((AVG(Value)-1)*0.4)+1 FROM TakeYourTimeCostChanges WHERE Era IS NOT NULL AND Type = "Civic" GROUP BY Era LIMIT 1), 1)))-1)*3.0)+1)) WHERE Name = 'THRESHOLD_SHIFT_PER_PAST_GOLDEN_AGE';